<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<style>
		li {display: inline;}
	</style>
<script>
	var $ = function(id) { return document.getElementById(id); }
	var imageLinks, counter, timer, countdownTimer;
	var imageCounter;
	
    window.onload = function() {
	  counter = $("timerVal").value;
	  var listNode = $("images");
	  imageLinks = listNode.getElementsByTagName("a");
	  
		// preload images for speed
		var i, image;
		for ( i = 0; i < imageLinks.length; i++ ) {
			image = new Image();
			image.src = imageLinks[i];
		}
		
		imageCounter = 0;
		countdownTimer = setInterval(countdown, 1000);      // counts off each second for display
		timer = setInterval(changePicture, (counter * 1000));  // counts off when to change image
		$("timerVal").onchange = timerChange;               // if they change number in input box
    }
	function timerChange() {
		clearInterval(timer);
		counter = $("timerVal").value;
		clearInterval(countdownTimer);
		countdownTimer = setInterval(countdown, 1000);
		$("timerCount").innerHTML = counter;
		timer = setInterval(changePicture, (counter * 1000));
	}
	function countdown() {
	   counter--;
	   $("timerCount").innerHTML = counter;
	}
	
  function changePicture() {
      console.log("changePicture");
	  var activeImage = $("img");
	  counter = $("timerVal").value;
		imageCounter = (imageCounter + 1) % imageLinks.length;  // counts 0 to length of array
		console.log(imageCounter);
		activeImage.src = imageLinks[imageCounter];
   }
  
  //$("changePicture").addEventListener("click", changePicture, false)

//$("timerVal").onclick = changePicture

//var i, image, listNode, link;
//for  ( i = 0;  i < imageLinks.length; i++) {
//  var timeOut = setTimeout(swapPictures, 1000)
  
//count down timerCount
//get value from the input
//at end of delay swap pictures
//

</script>
</head>
<body>
	<h2>Roland Shorter - IT 2320 - Lab 7</h2>

	<p><center>
	   <img src="images/adams.jpg" id="img"><br/>
	   Timer (seconds): <input type="text" id="timerVal" value="5"><br/><br/>
	   <ul id="images">
		   <Li><a href="images/adams.jpg" title="Adams"></a></Li>
		   <Li><a href="images/jackson.jpg" title="Jackson"></a></Li>
		   <Li><a href="images/jefferson.jpg" title="Jefferson"></Li>
		   <Li><a href="images/madison.jpg" title="Madison"></Li>
		   <Li><a href="images/washington.jpg" title="Washington"></Li>
	   <h2 id="timerCount">5</h2>
	</center></p>
</body>
</html>